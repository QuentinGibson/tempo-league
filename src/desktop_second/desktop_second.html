<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="../../css/general.css" />
  <link rel="stylesheet" href="../../css/header.css" />
  <title>Tempo League</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap');

    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #111118;
      --accent-core: #e8364f;
      --accent-glow: #ff4d6a;
      --accent-dim: #7a1d2e;
      --text-primary: #e8e6f0;
      --text-muted: #5a586a;
      --text-dim: #3a3848;
      --ring-idle: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.06);
      --ring-pulse: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.25);
      --accent-r: 232;
      --accent-g: 54;
      --accent-b: 79;
      --beat-duration: 1s;
      --pulse-scale: 1.12;
    }

    body {
      margin: 0;
      padding: 0;
      background: var(--bg-deep);
      font-family: 'Outfit', sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .app-header {
      flex-shrink: 0;
    }

    /* ---- Custom Tempo header ---- */
    .tempo-header {
      padding: 0 4px 0 12px;
      height: 38px;
      background: linear-gradient(to right, #0f0f16, #1a1a24 40%, #0f0f16);
      border-bottom: 1px solid rgba(232, 54, 79, 0.08);
    }

    .tempo-header__brand {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .tempo-header__logo {
      width: 24px;
      height: 24px;
      padding: 0 !important;
      margin: 0 !important;
    }

    .tempo-header__text {
      display: flex;
      align-items: baseline;
      gap: 5px;
    }

    .tempo-header__title {
      font-family: 'Outfit', sans-serif;
      font-size: 14px;
      font-weight: 700;
      color: #e8e6f0;
      letter-spacing: 3px;
      cursor: inherit;
    }

    .tempo-header__subtitle {
      font-family: 'Outfit', sans-serif;
      font-size: 10px;
      font-weight: 300;
      color: #5a586a;
      letter-spacing: 4px;
      cursor: inherit;
    }

    .tempo-header__tag {
      font-family: 'JetBrains Mono', monospace;
      font-size: 8px;
      font-weight: 500;
      color: var(--accent-core);
      background: rgba(232, 54, 79, 0.1);
      border: 1px solid rgba(232, 54, 79, 0.2);
      border-radius: 3px;
      padding: 1px 4px;
      letter-spacing: 1px;
      margin-left: 2px;
      cursor: inherit;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      min-height: 0;
    }

    /* ---- Tempo content (orb + readout) ---- */
    .tempo-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1;
    }

    /* ---- Ad container ---- */
    .ad-section {
      position: absolute;
      bottom: 16px;
      right: 16px;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .ad-container {
      width: 400px;
      height: 300px;
      background: var(--bg-surface);
      border: 1px solid rgba(255, 255, 255, 0.04);
      border-radius: 4px;
      overflow: hidden;
    }

    .ad-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 10px;
      font-weight: 300;
      color: var(--text-dim);
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-right: 4px;
    }

    /* ---- Background grain texture ---- */
    main::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 0;
    }

    /* ---- Orb container ---- */
    .tempo-orb-wrap {
      position: relative;
      width: 320px;
      height: 320px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1;
    }

    /* ---- Outer rings ---- */
    .ring {
      position: absolute;
      border-radius: 50%;
      border: 1px solid var(--ring-idle);
      transition: border-color 0.3s ease;
    }

    .ring--1 {
      width: 320px;
      height: 320px;
    }

    .ring--2 {
      width: 270px;
      height: 270px;
    }

    .ring--3 {
      width: 220px;
      height: 220px;
    }

    .beating .ring {
      animation: ring-breathe var(--beat-duration) ease-out infinite;
    }

    .beating .ring--2 {
      animation-delay: 0.04s;
    }

    .beating .ring--3 {
      animation-delay: 0.08s;
    }

    @keyframes ring-breathe {
      0% {
        border-color: var(--ring-pulse);
        transform: scale(1.03);
      }

      30% {
        border-color: var(--ring-idle);
        transform: scale(1);
      }

      100% {
        border-color: var(--ring-idle);
        transform: scale(1);
      }
    }

    /* ---- Core orb ---- */
    .orb {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: radial-gradient(circle at 40% 35%,
          var(--accent-glow) 0%,
          var(--accent-core) 40%,
          var(--accent-dim) 100%);
      box-shadow:
        0 0 60px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15),
        0 0 120px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.05),
        inset 0 -8px 24px rgba(0, 0, 0, 0.4);
      position: relative;
      z-index: 2;
    }

    /* Specular highlight */
    .orb::before {
      content: '';
      position: absolute;
      top: 18%;
      left: 24%;
      width: 36%;
      height: 28%;
      border-radius: 50%;
      background: radial-gradient(ellipse, rgba(255, 255, 255, 0.25) 0%, transparent 70%);
    }

    .beating .orb {
      animation: orb-pulse var(--beat-duration) ease-out infinite;
    }

    @keyframes orb-pulse {
      0% {
        transform: scale(var(--pulse-scale));
        box-shadow:
          0 0 80px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4),
          0 0 160px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15),
          inset 0 -8px 24px rgba(0, 0, 0, 0.4);
      }

      15% {
        transform: scale(1.0);
        box-shadow:
          0 0 60px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2),
          0 0 120px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.06),
          inset 0 -8px 24px rgba(0, 0, 0, 0.4);
      }

      100% {
        transform: scale(1.0);
        box-shadow:
          0 0 60px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15),
          0 0 120px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.05),
          inset 0 -8px 24px rgba(0, 0, 0, 0.4);
      }
    }

    /* ---- Flash overlay on beat ---- */
    .orb::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 60%);
      opacity: 0;
    }

    .beating .orb::after {
      animation: orb-flash var(--beat-duration) ease-out infinite;
    }

    @keyframes orb-flash {
      0% {
        opacity: 1;
      }

      20% {
        opacity: 0;
      }

      100% {
        opacity: 0;
      }
    }

    /* ---- Data readout ---- */
    .readout {
      z-index: 1;
      text-align: center;
      margin-top: 40px;
    }

    .readout__bpm {
      font-family: 'JetBrains Mono', monospace;
      font-size: 56px;
      font-weight: 500;
      color: var(--text-primary);
      letter-spacing: -2px;
      line-height: 1;
    }

    .readout__bpm-unit {
      font-size: 16px;
      font-weight: 300;
      color: var(--text-muted);
      letter-spacing: 4px;
      text-transform: uppercase;
      margin-left: 4px;
    }

    .readout__champion {
      font-size: 18px;
      font-weight: 300;
      color: var(--text-muted);
      margin-top: 8px;
      letter-spacing: 0.5px;
    }

    .readout__champion-name {
      color: var(--text-primary);
      font-weight: 400;
    }

    .readout__as {
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      font-weight: 300;
      color: var(--text-dim);
      margin-top: 6px;
      letter-spacing: 1px;
    }

    /* ---- Waiting state ---- */
    .waiting-state {
      z-index: 1;
      text-align: center;
      margin-top: 40px;
    }

    .waiting-state__label {
      font-size: 14px;
      font-weight: 300;
      color: var(--text-dim);
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    .waiting-state .dot-pulse {
      display: inline-block;
      animation: dot-blink 1.4s infinite steps(1);
    }

    .waiting-state .dot-pulse:nth-child(2) {
      animation-delay: 0.2s;
    }

    .waiting-state .dot-pulse:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes dot-blink {

      0%,
      50% {
        opacity: 0;
      }

      25% {
        opacity: 1;
      }
    }

    /* ---- Tick markers around orb ---- */
    .tick-ring {
      position: absolute;
      width: 320px;
      height: 320px;
    }

    .tick {
      position: absolute;
      top: 0;
      left: 50%;
      width: 1px;
      height: 8px;
      background: var(--text-dim);
      transform-origin: 0 160px;
      opacity: 0.4;
    }

    .tick--major {
      height: 14px;
      width: 2px;
      opacity: 0.6;
      background: var(--text-muted);
    }

    /* ---- Anime pulse type ---- */
    .tempo-orb-wrap.pulse-radiate .ring,
    .tempo-orb-wrap.pulse-radiate .tick-ring,
    .tempo-orb-wrap.pulse-radiate .orb::before {
      display: none;
    }

    .tempo-orb-wrap.pulse-radiate .orb {
      border-radius: 50%;
      background: radial-gradient(circle at 50% 50%,
          var(--accent-glow) 0%,
          var(--accent-core) 30%,
          transparent 70%);
      box-shadow:
        0 0 40px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3),
        inset 0 0 30px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
    }

    /* Shockwave rings */
    .shockwave {
      position: absolute;
      border-radius: 50%;
      border: 2px solid var(--accent-core);
      width: 100%;
      height: 100%;
      opacity: 0;
      pointer-events: none;
    }

    .beating.pulse-radiate .shockwave--1 {
      animation: shockwave-expand var(--beat-duration) ease-out infinite;
    }

    .beating.pulse-radiate .shockwave--2 {
      animation: shockwave-expand var(--beat-duration) ease-out infinite;
      animation-delay: 0.06s;
    }

    .beating.pulse-radiate .shockwave--3 {
      animation: shockwave-expand var(--beat-duration) ease-out infinite;
      animation-delay: 0.12s;
    }

    @keyframes shockwave-expand {
      0% {
        transform: scale(1);
        opacity: 0.8;
        border-color: var(--accent-glow);
      }

      40% {
        transform: scale(2.2);
        opacity: 0;
        border-color: var(--accent-core);
      }

      100% {
        transform: scale(2.2);
        opacity: 0;
      }
    }

    /* Speed lines */
    .speed-lines {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .speed-line {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 0;
      background: linear-gradient(to top, transparent, var(--accent-glow));
      opacity: 0;
      transform-origin: bottom center;
    }

    .beating.pulse-radiate .speed-line {
      animation: speed-line-burst var(--beat-duration) ease-out infinite;
    }

    @keyframes speed-line-burst {
      0% {
        height: 20px;
        opacity: 0.9;
        transform: translateX(-50%) translateY(-120%) rotate(var(--line-angle));
      }

      30% {
        height: 60px;
        opacity: 0;
        transform: translateX(-50%) translateY(-200%) rotate(var(--line-angle));
      }

      100% {
        height: 60px;
        opacity: 0;
        transform: translateX(-50%) translateY(-200%) rotate(var(--line-angle));
      }
    }

    /* Anime flash — sharp cross flare */
    .radiate-flash {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0;
    }

    .radiate-flash::before,
    .radiate-flash::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(to bottom, transparent, var(--accent-glow) 40%, var(--accent-glow) 60%, transparent);
    }

    .radiate-flash::before {
      width: 3px;
      height: 120%;
    }

    .radiate-flash::after {
      width: 120%;
      height: 3px;
      background: linear-gradient(to right, transparent, var(--accent-glow) 40%, var(--accent-glow) 60%, transparent);
    }

    .beating.pulse-radiate .radiate-flash {
      animation: cross-flare var(--beat-duration) ease-out infinite;
    }

    @keyframes cross-flare {
      0% {
        opacity: 1;
        transform: scale(1.3);
      }

      15% {
        opacity: 0.3;
        transform: scale(1);
      }

      30% {
        opacity: 0;
        transform: scale(0.8);
      }

      100% {
        opacity: 0;
      }
    }

    /* Anime orb pulse override */
    .beating.pulse-radiate .orb {
      animation: radiate-orb-pulse var(--beat-duration) ease-out infinite;
    }

    @keyframes radiate-orb-pulse {
      0% {
        transform: scale(var(--pulse-scale));
        box-shadow:
          0 0 80px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.6),
          0 0 160px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3),
          inset 0 0 30px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3);
        filter: brightness(1.4);
      }

      10% {
        transform: scale(0.95);
        filter: brightness(1);
      }

      20% {
        transform: scale(1.0);
        box-shadow:
          0 0 40px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3),
          inset 0 0 30px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
        filter: brightness(1);
      }

      100% {
        transform: scale(1.0);
        box-shadow:
          0 0 40px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3),
          inset 0 0 30px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
        filter: brightness(1);
      }
    }

    /* Hide radiate/anime elements by default */
    .shockwave,
    .speed-lines,
    .radiate-flash {
      display: none;
    }

    .pulse-radiate .shockwave,
    .pulse-radiate .speed-lines,
    .pulse-radiate .radiate-flash {
      display: block;
    }

    /* ---- Anime character pulse type ---- */
    .tempo-orb-wrap.pulse-anime .ring,
    .tempo-orb-wrap.pulse-anime .tick-ring,
    .tempo-orb-wrap.pulse-anime .orb {
      display: none;
    }

    .anime-character {
      position: relative;
      z-index: 3;
      width: 70%;
      height: 70%;
      display: none;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 12px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4));
    }

    .pulse-anime .anime-character {
      display: flex;
    }

    .anime-character img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      user-select: none;
      pointer-events: none;
      transition: transform 0.1s ease;
    }

    .anime-character {
      overflow: visible;
    }

    .beating.pulse-anime .anime-character {
      animation: anime-char-pulse var(--beat-duration) ease-out infinite;
    }

    @keyframes anime-char-pulse {
      0% {
        transform: scale(var(--pulse-scale));
        filter: drop-shadow(0 0 30px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.8)) brightness(1.3);
      }

      10% {
        transform: scale(0.97);
        filter: drop-shadow(0 0 12px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4)) brightness(1);
      }

      25% {
        transform: scale(1);
        filter: drop-shadow(0 0 12px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4)) brightness(1);
      }

      100% {
        transform: scale(1);
        filter: drop-shadow(0 0 12px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4)) brightness(1);
      }
    }

    /* Aura glow behind character */
    .anime-aura {
      position: absolute;
      width: 80%;
      height: 80%;
      border-radius: 50%;
      background: radial-gradient(circle,
          rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15) 0%,
          rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.05) 50%,
          transparent 70%);
      z-index: 1;
      display: none;
    }

    .pulse-anime .anime-aura {
      display: block;
    }

    .beating.pulse-anime .anime-aura {
      animation: anime-aura-pulse var(--beat-duration) ease-out infinite;
    }

    @keyframes anime-aura-pulse {
      0% {
        transform: scale(1.4);
        background: radial-gradient(circle,
            rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.35) 0%,
            rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15) 50%,
            transparent 70%);
      }

      20% {
        transform: scale(1);
        background: radial-gradient(circle,
            rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15) 0%,
            rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.05) 50%,
            transparent 70%);
      }

      100% {
        transform: scale(1);
      }
    }

    /* Energy rings around character */
    .anime-ring {
      position: absolute;
      width: 90%;
      height: 90%;
      border-radius: 50%;
      border: 1.5px solid rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
      z-index: 2;
      opacity: 0;
      display: none;
    }

    .pulse-anime .anime-ring {
      display: block;
    }

    .beating.pulse-anime .anime-ring--1 {
      animation: anime-ring-expand var(--beat-duration) ease-out infinite;
    }

    .beating.pulse-anime .anime-ring--2 {
      animation: anime-ring-expand var(--beat-duration) ease-out infinite;
      animation-delay: 0.08s;
    }

    @keyframes anime-ring-expand {
      0% {
        transform: scale(0.8);
        opacity: 0.6;
        border-color: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.5);
      }

      40% {
        transform: scale(1.6);
        opacity: 0;
      }

      100% {
        transform: scale(1.6);
        opacity: 0;
      }
    }

    /* ---- Settings panel (bottom-left) ---- */
    .settings-panel {
      position: absolute;
      bottom: 16px;
      left: 16px;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 12px;
      background: var(--bg-surface);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 6px;
      padding: 16px 20px;
      width: 220px;
    }

    .settings-panel__title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      font-weight: 400;
      color: var(--text-muted);
      letter-spacing: 2px;
      text-transform: uppercase;
      margin: 0 0 4px 0;
    }

    .setting-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .setting-group__label {
      font-size: 12px;
      font-weight: 300;
      color: var(--text-muted);
      letter-spacing: 0.5px;
    }

    .setting-group__row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .setting-group__value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      color: var(--text-dim);
      min-width: 32px;
      text-align: right;
    }

    /* Style toggles */
    .style-toggles {
      display: flex;
      gap: 6px;
    }

    .style-toggle {
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      font-weight: 400;
      color: var(--text-dim);
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 4px;
      padding: 4px 12px;
      cursor: pointer;
      transition: all 0.15s ease;
      outline: none;
    }

    .style-toggle:hover {
      color: var(--text-muted);
      background: rgba(255, 255, 255, 0.06);
    }

    .style-toggle.active {
      color: var(--text-primary);
      background: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15);
      border-color: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.3);
    }

    /* Text input */
    .text-input {
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      color: var(--text-primary);
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 4px;
      padding: 6px 8px;
      outline: none;
      width: 100%;
      box-sizing: border-box;
      transition: border-color 0.15s ease;
    }

    .text-input::placeholder {
      color: var(--text-dim);
    }

    .text-input:focus {
      border-color: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4);
    }

    /* Color swatches */
    .color-swatches {
      display: flex;
      gap: 6px;
    }

    .color-swatch {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border-color 0.15s ease, transform 0.15s ease;
      padding: 0;
      outline: none;
    }

    .color-swatch:hover {
      transform: scale(1.15);
    }

    .color-swatch.active {
      border-color: var(--text-primary);
    }

    /* Range slider */
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      flex: 1;
      height: 4px;
      border-radius: 2px;
      background: rgba(255, 255, 255, 0.08);
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--text-muted);
      cursor: pointer;
      transition: background 0.15s ease;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      background: var(--text-primary);
    }

    /* Anime dropdown */
    .anime-dropdown {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .anime-dropdown__toggle {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      font-weight: 400;
      color: var(--text-muted);
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 4px;
      padding: 6px 10px;
      cursor: pointer;
      transition: all 0.15s ease;
      outline: none;
      width: 100%;
      box-sizing: border-box;
    }

    .anime-dropdown__toggle:hover {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-primary);
    }

    .anime-dropdown__arrow {
      font-size: 10px;
      transition: transform 0.2s ease;
    }

    .anime-dropdown__arrow.open {
      transform: rotate(180deg);
    }

    .anime-dropdown__body {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-top: 10px;
    }

    /* ---- Utility ---- */
    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <!-- -------------------------------- Header ------------------------------- -->
  <header id="header" class="app-header tempo-header">
    <div class="tempo-header__brand">
      <img src="../../img/tempo_logo.svg" class="tempo-header__logo" />
      <div class="tempo-header__text">
        <span class="tempo-header__title">TEMPO</span>
        <span class="tempo-header__subtitle">LEAGUE</span>
      </div>
      <span class="tempo-header__tag">BPM</span>
    </div>
    <div class="window-controls-group">
      <button id="minimizeButton" class="window-control window-control-minimize"></button>
      <button id="maximizeButton" class="window-control window-control-maximize"></button>
      <button id="closeButton" class="window-control window-control-close"></button>
    </div>
  </header>

  <!-- --------------------------------- Main -------------------------------- -->
  <main>
    <div class="tempo-content">
      <div class="tempo-orb-wrap" id="orbWrap">
        <!-- Tick marks generated by JS -->
        <div class="tick-ring" id="tickRing"></div>
        <div class="ring ring--1"></div>
        <div class="ring ring--2"></div>
        <div class="ring ring--3"></div>
        <div class="orb" id="orb"></div>
        <!-- Anime pulse elements -->
        <div class="shockwave shockwave--1"></div>
        <div class="shockwave shockwave--2"></div>
        <div class="shockwave shockwave--3"></div>
        <div class="speed-lines" id="speedLines"></div>
        <div class="radiate-flash"></div>
        <!-- Anime character pulse elements -->
        <div class="anime-character" id="animeCharacter">
          <img src="" alt="" id="animeCharImg" />
        </div>
        <div class="anime-aura"></div>
        <div class="anime-ring anime-ring--1"></div>
        <div class="anime-ring anime-ring--2"></div>
      </div>

      <!-- Active: show BPM data -->
      <div class="readout hidden" id="readout">
        <div>
          <span class="readout__bpm" id="bpmValue">—</span>
          <span class="readout__bpm-unit">bpm</span>
        </div>
        <div class="readout__champion">
          <span class="readout__champion-name" id="champName">—</span>
        </div>
        <div class="readout__as">
          AS <span id="asValue">—</span>
        </div>
      </div>

      <!-- Idle: waiting for champ data -->
      <div class="waiting-state" id="waitingState">
        <span class="waiting-state__label">
          awaiting champion
          <span class="dot-pulse">.</span><span class="dot-pulse">.</span><span class="dot-pulse">.</span>
        </span>
      </div>
    </div>

    <!-- Settings (bottom-left) -->
    <div class="settings-panel" id="settingsPanel">
      <span class="settings-panel__title">customize</span>

      <div class="setting-group">
        <span class="setting-group__label">Style</span>
        <div class="style-toggles" id="styleToggles">
          <button class="style-toggle active" data-style="orb">Orb</button>
          <button class="style-toggle" data-style="radiate">Radiate</button>
          <button class="style-toggle" data-style="anime">Anime</button>
        </div>
      </div>

      <div class="anime-dropdown hidden" id="animeDropdown">
        <button class="anime-dropdown__toggle" id="animeDropdownToggle">
          <span>Character settings</span>
          <span class="anime-dropdown__arrow" id="animeDropdownArrow">&#9662;</span>
        </button>
        <div class="anime-dropdown__body hidden" id="animeDropdownBody">
          <div class="setting-group">
            <span class="setting-group__label">Image URL</span>
            <input type="text" id="animeImageUrl" class="text-input" placeholder="Paste image URL..." />
          </div>
          <div class="setting-group">
            <span class="setting-group__label">Scale</span>
            <div class="setting-group__row">
              <input type="range" id="animeScaleSlider" min="30" max="1000" value="100" step="5" />
              <span class="setting-group__value" id="animeScaleValue">100%</span>
            </div>
          </div>
          <div class="setting-group">
            <span class="setting-group__label">Offset X</span>
            <div class="setting-group__row">
              <input type="range" id="animeOffsetXSlider" min="-500" max="500" value="0" step="1" />
              <span class="setting-group__value" id="animeOffsetXValue">0</span>
            </div>
          </div>
          <div class="setting-group">
            <span class="setting-group__label">Offset Y</span>
            <div class="setting-group__row">
              <input type="range" id="animeOffsetYSlider" min="-500" max="500" value="0" step="1" />
              <span class="setting-group__value" id="animeOffsetYValue">0</span>
            </div>
          </div>
        </div>
      </div>

      <div class="setting-group">
        <span class="setting-group__label">Color</span>
        <div class="color-swatches" id="colorSwatches">
          <button class="color-swatch active" data-core="#e8364f" data-glow="#ff4d6a" data-dim="#7a1d2e"
            style="background:#e8364f" title="Crimson"></button>
          <button class="color-swatch" data-core="#3b82f6" data-glow="#60a5fa" data-dim="#1e3a5f"
            style="background:#3b82f6" title="Blue"></button>
          <button class="color-swatch" data-core="#10b981" data-glow="#34d399" data-dim="#064e3b"
            style="background:#10b981" title="Emerald"></button>
          <button class="color-swatch" data-core="#f59e0b" data-glow="#fbbf24" data-dim="#78350f"
            style="background:#f59e0b" title="Amber"></button>
          <button class="color-swatch" data-core="#a855f7" data-glow="#c084fc" data-dim="#581c87"
            style="background:#a855f7" title="Purple"></button>
          <button class="color-swatch" data-core="#e8e6f0" data-glow="#ffffff" data-dim="#6b6b7a"
            style="background:#e8e6f0" title="White"></button>
        </div>
      </div>

      <div class="setting-group">
        <span class="setting-group__label">Size</span>
        <div class="setting-group__row">
          <input type="range" id="sizeSlider" min="80" max="240" value="160" step="10" />
          <span class="setting-group__value" id="sizeValue">160</span>
        </div>
      </div>

      <div class="setting-group">
        <span class="setting-group__label">Pulse intensity</span>
        <div class="setting-group__row">
          <input type="range" id="intensitySlider" min="2" max="30" value="12" step="1" />
          <span class="setting-group__value" id="intensityValue">12%</span>
        </div>
      </div>
    </div>

    <!-- Ad space (bottom-right) -->
    <div class="ad-section">
      <div class="ad-container" id="ad-container"></div>
    </div>
  </main>

  <script src="https://content.overwolf.com/libs/ads/latest/owads.min.js" async onerror="onAdsSDKNotLoaded()"
    onload="onAdsSDKReady()"></script>
  <script>
    function onAdsSDKNotLoaded() {
      console.error("Couldn't load owads.min.js");
    }

    function onAdsSDKReady() {
      if (typeof OwAd === 'undefined') {
        console.error("Overwolf Ads SDK not available");
        return;
      }

      var ad = new OwAd(document.getElementById("ad-container"), {
        size: {width: 400, height: 300},
        containerId: "tempo_league_400x300_desktop_second"
      });

      ad.addEventListener("player_loaded", function () {
        console.log("Ad player loaded");
      });

      ad.addEventListener("error", function (e) {
        console.error("Ad error:", e);
      });
    }

    // Generate tick marks around the orb
    (function () {
      const ring = document.getElementById('tickRing');
      const count = 60;
      for (var i = 0; i < count; i++) {
        var tick = document.createElement('div');
        var angle = (360 / count) * i;
        var isMajor = i % 15 === 0;
        tick.className = 'tick' + (isMajor ? ' tick--major' : '');
        tick.style.transform = 'rotate(' + angle + 'deg)';
        ring.appendChild(tick);
      }
    })();

    // Generate speed lines for anime pulse
    (function () {
      var container = document.getElementById('speedLines');
      var lineCount = 12;
      for (var i = 0; i < lineCount; i++) {
        var line = document.createElement('div');
        line.className = 'speed-line';
        var angle = (360 / lineCount) * i;
        line.style.setProperty('--line-angle', angle + 'deg');
        line.style.animationDelay = (i * 0.015) + 's';
        container.appendChild(line);
      }
    })();
  </script>
</body>

</html>
